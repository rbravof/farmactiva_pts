{% extends "base_admin.html" %}
{% block title %}{{ 'Editar' if item else 'Nuevo' }} tipo de envío · Admin{% endblock %}
{% block content %}
<div class="max-w-xl mx-auto p-6">
  <a href="/admin/envios/tipos" class="text-sm text-slate-600 hover:underline">Volver</a>
  <h1 class="text-2xl font-semibold mt-2">{{ 'Editar' if item else 'Nuevo' }} tipo de envío</h1>

  <form method="post"
        action="{{ '/admin/envios/tipos/' ~ item.id ~ '/editar' if item else '/admin/envios/tipos/nuevo' }}"
        class="bg-white border rounded-xl p-5 space-y-4">

    <div>
      <label class="block text-sm mb-1">Nombre</label>
      <input type="text" name="nombre" required
             class="w-full border rounded-lg px-3 py-2"
             value="{{ item.nombre if item else '' }}" placeholder="Ej: Despacho a domicilio">
    </div>

    <div>
      <label class="block text-sm mb-1">Código</label>
      <input type="text" name="codigo" required
             class="w-full border rounded-lg px-3 py-2"
             value="{{ item.codigo if item else '' }}" placeholder="despacho_normal">
      <p class="text-xs text-slate-500 mt-1">Identificador técnico (p.ej. <code>despacho_normal</code>, <code>retiro_tienda</code>).</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
      <div>
        <label class="block text-sm mb-1">Orden</label>
        <input type="number" name="orden" value="{{ item.orden if item else 0 }}" class="w-full border rounded-lg px-3 py-2">
      </div>
    </div>

    <div class="flex items-center gap-6">
      <label class="inline-flex items-center gap-2">
        <input type="checkbox" name="requiere_direccion" value="true" {{ 'checked' if item and item.requiere_direccion else '' }}>
        Requiere dirección
      </label>
      <label class="inline-flex items-center gap-2">
        <input type="checkbox" name="activo" value="true" {{ 'checked' if (not item) or item.activo else '' }}>
        Activo
      </label>
    </div>

    <div class="flex justify-end gap-3 pt-2">
      <a href="/admin/envios/tipos" class="px-3 py-2 border rounded-lg">Cancelar</a>
      <button type="submit" class="px-3 py-2 bg-green-600 text-white rounded-lg">Guardar</button>
    </div>
  </form>
</div>
{% endblock %}
